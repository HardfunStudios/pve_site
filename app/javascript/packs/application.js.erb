// This file is automatically compiled by Webpack, along with any other files
// present in this directory. You're encouraged to place your actual application logic in
// a relevant structure within app/javascript and only use these pack files to reference
// that code so it'll be compiled.

// require('bootstrap')
import '../css/application.css'
require("@rails/ujs").start()
require("turbolinks").start()
require("@rails/activestorage").start()
require("channels")
import "<%= File.join(Gem.loaded_specs['rails-social-share-button'].full_gem_path, 'app', 'assets', 'javascripts', 'rails-social-share-button') %>"
import $ from 'jquery';
global.$ = jQuery;

$(document).ready(function () {
  $('.load-more').click(function (e) {
    e.preventDefault();
    var cat = $(this).attr('cat');
    $.ajax({
      type: "GET",
      url: $(this).attr('href'),
      dataType: "script",
      success: function () {
        $('.load-more').show();
        Array.prototype.forEach.call(document.getElementsByClassName('post-cat-' + cat), function(el) {
          el.classList.remove('hidden');
        }); 
      }
    });
  });
});